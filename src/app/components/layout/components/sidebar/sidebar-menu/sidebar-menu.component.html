<div class="pt-4" *ngFor="let menu of pagesMenu$ | async">
  <ul class="flex flex-col space-y-1">
    <!-- List items -->
    <li *ngFor="let item of menu.items; let i = index">
      <!-- Menu List -->
      <div
        (click)="toggleMenu(item)"
        class="group relative text-gray-400 text-sm grid grid-cols-1 items-center"
      >
        <!-- Icon -->
        <div
          [ngClass]="item.active && !(showSideBar$ | async) ? 'text-primary-800' : ''"
          class="pointer-events-none absolute m-2 text-sm hover:text-white"
        >
          <svg-icon src="{{ item.iconDark }}" [svgClass]="'h-6 w-6'"> </svg-icon>
        </div>

        <!-- Condition -->
        <ng-container
          [ngTemplateOutlet]="item.children ? childMenu : parentMenu"
          [ngTemplateOutletContext]="{ item: item }"
        >
        </ng-container>

        <!-- Workaround:: Enable routerLink -->
        <ng-template #parentMenu let-item="item">
          <div
            routerLink="{{ item.route }}"
            routerLinkActive="text-primary bg-[#DDEDF8] border-l-4 border-primary rounded-0"
            class="flex h-12 cursor-pointer items-center justify-start text-sm text-gray-700 hover:shadow hover:bg-primary-800 hover:text-white hover:font-bold"
          >
            <a class="ml-10 truncate font-semibold tracking-wide text-sm focus:outline-none">
              {{ item.label }}
            </a>
          </div>
        </ng-template>
        <!-- Workaround:: Disable routerLink -->
        <ng-template #childMenu let-item="item">
          <div
            class="flex h-12 cursor-pointer items-center justify-start text-sm text-gray-700 hover:shadow hover:bg-primary-800 hover:text-white hover:font-bold"
          >
            <a class="ml-10 truncate font-semibold tracking-wide text-sm focus:outline-none">
              {{ item.label }}
            </a>
          </div>
        </ng-template>
        <button
          *ngIf="item.children"
          [ngClass]="{
            hidden: !(showSideBar$ | async),
            'rotate-90': item.expanded,
          }"
          class="pointer-events-none absolute top-1 right-0 flex items-center p-1 text-gray-400 transition-all duration-500 dark:text-night-400"
        >
          <svg-icon src="assets/icons/solid/chevron-right.svg" [svgClass]="'h-5 w-5 mt-2'">
          </svg-icon>
        </button>
        <!-- Tooltip -->
        <div class="fixed w-full z-50" *ngIf="!(showSideBar$ | async)">
          <span
            class="z-1 absolute left-14 -top-[20px] z-50 text-sm w-auto min-w-max origin-left scale-0 rounded-md bg-primary-800 p-2 font-bold text-white shadow-md transition-all duration-200 group-hover:scale-100"
          >
            {{ item.label }}
          </span>
        </div>
      </div>
      <!-- Submenu items -->
      <app-sidebar-submenu [submenu]="item"></app-sidebar-submenu>
    </li>
  </ul>
</div>
